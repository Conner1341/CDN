---

copyright:
  years: 2017
lastupdated: "2017-09-11"

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:codeblock: .codeblock}
{:pre: .pre}
{:screen: .screen}
{:tip: .tip}
{:download: .download}

# CDN 관리

다음 가이드라인을 따라 CDN 구성을 관리하는 방법을 알아보십시오. 
 
## 실행 중인 상태로 CDN 가져오기

CDN을 작성하면 CDN 대시보드에 즉시 표시됩니다. 여기서 CDN의 이름, 원본, 제공자 및 상태를 볼 수 있습니다.   

 ![맵핑 목록 스크린샷](images/mapping_list_cname.png)

1. CDN을 주문한 후에는 DNS 제공자를 사용하여 **CNAME**을 구성해야 합니다. 대부분의 DNS 제공자는 CNAME 설정 또는 변경에 대한 지시사항을 제공할 수 있습니다. 
   
   * 이 기간 동안 CDN의 상태는 **CNAME 구성**으로 표시됩니다. 변경사항이 적용되는 시기를 알아보려면 DNS 제공자에게 문의하십시오. 

   ![CNAME 구성](images/cname-config.png)  
   
2. DNS 제공자를 사용하여 CNAME을 구성한 후에는 언제든지 CDN 상태의 오른쪽에 있는 오버플로우 메뉴에서 **가져오기 상태**를 선택하여 상태를 확인할 수 있습니다. 
   
  ![CNAME getStatus](images/cname-getstatus.png)  
    
3. CNAME 변경이 완료되면 계정 상태는 *RUNNING*으로 변경되고 CDN을 사용할 수 있습니다. 
   	  
완료되었습니다! CDN은 이제 실행 중입니다.  
	  
## CDN 중지
'Running' 상태인 경우에만 CDN을 중지할 수 있습니다.  

1. 오버플로우 메뉴(CDN 상태의 오른쪽에 수직으로 된 세 개의 점)에서 'CDN 중지'를 클릭하십시오.
 ![오버플로우 메뉴](images/stop_cdn.png)

2. 서비스를 시작할지 확인하는 대형 대화 상자 창이 표시됩니다. 진행하려면 **확인**을 선택하십시오. 
  
3. 약 5 - 15초 후에 상태를 'Stopped'으로 변경해야 합니다.


## CDN 시작
'Stopped' 상태인 경우에만 CDN을 시작할 수 있습니다. 
1. CDN 행의 오른쪽에 세 개의 점으로 표시되는 오버플로우 메뉴에서 'CDN 시작'을 클릭하십시오.
 ![오버플로우 메뉴](images/start_cdn.png)

2. 서비스를 시작할지 확인하는 대형 대화 상자 창이 표시됩니다. 계속하려면 **확인**을 선택하십시오. 

3. 조치가 성공적이면 화면의 오른쪽 상단 모서리에 시간 정보와 함께 사용자에게 성공했음을 알려주는 대화 상자가 표시됩니다. 
  
4. 이제 'CNAME Configuration'으로 상태가 변경됩니다.

5. 오버플로우 메뉴에서 '가져오기 상태'를 클릭하십시오. 이제 'Running'으로 상태가 변경됩니다. 또한 CDN이 작동 가능 상태가 됩니다. 

## CDN 삭제

CDN을 삭제하려면 다음 단계를 따르십시오.
**참고**: 오버플로우 메뉴에서 `Delete`만 선택하면 CDN이 삭제되며, 계정은 삭제되지 않습니다. 

1. 오버플로우 메뉴에서 '삭제'를 클릭하십시오. 

 ![CDN 오버플로우 메뉴 삭제](images/delete_cdn.png)

2. 삭제할지 확인하는 대형 대화 상자 창이 표시됩니다. 진행하려면 **삭제**를 클릭하십시오. 

3. 이제 'Deleting'으로 상태가 변경됩니다. 오버플로우 메뉴에서 '가져오기 상태'를 클릭하십시오. 이제 CDN 목록에서 행을 제거합니다. 

## "TTL(Time To Live)"을 사용하여 컨텐츠 캐싱 설정

CDN이 실행된 후 TTL(Time To Live)을 사용하여 컨텐츠 캐싱 시간을 설정할 수 있습니다. 특정 파일 또는 디렉토리 경로의 TTL(Time To Live)은 컨텐츠가 캐싱되어야 하는 기간을 표시합니다. CDN 맵핑을 작성한 경우 3600초의 기본 글로벌 TTL이 작성되었습니다.  

1. CDN 페이지에서 **개요** 페이지로 이동할 수 있도록 CDN을 선택하십시오. 

2. 화살표를 사용하거나 새 시간을 입력하여 시간을 조정할 수 있습니다. 시간 값은 초로 지정됩니다. 예를 들어, 3600초는 1시간과 같습니다. 선택할 수 있는 `timeToLive`의 최소값은 30초이고, 최대값은 21474836471초입니다. 컨텐츠 캐싱 시간을 설정하려면 **저장** 단추를 선택하십시오.  

  ![TTL 추가](images/adding-path.png)

3. 저장 후 오버플로우 메뉴 옵션을 사용하여 TTL 설정을 **편집** 또는 **삭제**할 수 있습니다. (**참고**: TTL의 경로를 변경할 수 없습니다. 맵핑 경로가 변경되면 TTL 경로가 자동으로 업데이트됩니다.) 

  ![TTL 편집 또는 삭제](images/edit-delete-ttl-setting.png)  
	
  * 컨텐츠가 다중 규칙과 일치하면 가장 최근에 추가된 구성이 우선합니다. 
  
  * 특정 파일 이름 또는 디렉토리에 대한 TTL 값만 설정할 수 있습니다. 정규식으로 예상치 못한 동작이 발생할 수 있으므로 정규식은 지원되지 않습니다. 
	
## 원본 경로 세부사항 추가

CDN의 상태가 *CNAME_Configuration* 또는 *Running*인 경우 원본 경로 세부사항을 추가할 수 있습니다. 다중 원본 서버에서 컨텐츠를 제공하도록 선택할 수 있습니다. 예를 들어, 비디오와 다른 서버에서 사진을 전달할 수 있습니다. 원본은 호스트 서버 또는 오브젝트 스토리지를 기반으로 할 수 있습니다. 

1. CDN 페이지에서 **개요** 페이지로 이동할 수 있도록 CDN을 선택하십시오. 
	
2. **원본** 탭을 선택한 후 **원본 추가** 단추를 선택하십시오. 
	
3. 경로를 *제공해야* 합니다. **서버** 또는 **오브젝트 스토리지** 중 하나를 선택하십시오.
	
   ![원본 추가 원본](images/add-origin.png)
		
  * **서버**를 선택한 경우 서버 IP 주소 또는 _호스트 이름_을 입력하십시오. CDN 작성 중에 선택한 프로토콜에 따라 HTTP 포트, HTTPS 포트 또는 둘 다를 제공하십시오. 이는 해당 맵핑과 일치해야 합니다. 
	
  ![원본 서버 추가](images/add-origin-server.png)
	
  * **오브젝트 스토리지**를 선택한 경우 엔드포인트, 버킷 이름 및 HTTPS 포트를 제공하십시오. 선택적으로, CDN 서비스에 사용할 수 있는 파일 확장자를 지정하십시오. 아무 것도 지정되지 않으면 모든 파일 확장자가 허용됩니다. 
	
  ![원본 오브젝트 스토리지 추가](images/add-origin-object-storage.png)
		
4. **추가** 단추를 선택하여 원본 경로를 추가하십시오. 

  **참고**: 오브젝트 스토리지 원본 경로에 대한 파일 확장자를 제공하는 경우 원본 경로와 동일한 URL이 있는 TTL 설정은 지정된 파일 확장자가 있는 모든 파일을 포함하도록 범위가 지정됩니다. 예를 들어, "/example"의 원본 경로를 작성하고 "jpg png gif"의 파일 확장자를 지정하면 TTL 경로의 TTL 값은 "/example" 디렉토리 및 하위 디렉토리 아래에 있는 모든 JPG/PNG/GIF 파일을 포함하도록 범위가 지정됩니다. 

5. 추가 후 오버플로우 메뉴 옵션을 사용하여 원본을 **편집** 또는 **삭제**할 수 있습니다. 

  ![원본 편집 또는 삭제](images/edit-delete-origin.png)
	
## 캐싱된 컨텐츠 제거

CDN이 실행된 후 벤더의 서버에서 캐싱된 컨텐츠를 제거할 수 있습니다.   

1. CDN 페이지에서 **개요** 페이지로 이동할 수 있도록 CDN을 선택하십시오. 
	
2. **제거** 탭을 선택하십시오. 

	![페이지 제거](images/purge_tab.png)
	
3. 제거할 파일을 표시하도록 표준 Unix 경로 구문을 입력한 후 **제거** 단추를 선택하십시오. 이때 제거는 단일 파일에만 허용됩니다. 

4. 제거 후 활동은 **제거 활동** 아래에 나열됩니다. 오버플로우 메뉴 옵션을 사용하여 경로에 대해 **제거 다시 실행** 또는 **즐겨찾기 추가**를 수행할 수 있습니다. 

	![제거 활동](images/purge-activity.png)
	
   **참고:** 16개 이상의 제거 항목이 있는 경우 제거 활동은 자동으로 15분마다 축소됩니다. 
	
## CDN 구성 세부사항 업데이트

CDN이 실행된 후 CDN 구성 세부사항을 업데이트할 수 있습니다. 

1. CDN 페이지에서 **개요** 페이지로 이동할 수 있도록 CDN을 선택하십시오. 

2. **설정** 탭을 선택하십시오. CDN 구성 세부사항이 표시됩니다. 

  **오브젝트 스토리지**의 경우 다음 필드를 변경할 수 있습니다.  
   * 엔드포인트
   * 버킷 이름
   * HTTPS 포트
   * 허용되는 파일 확장자
   * 시간이 경과된(stale) 컨텐츠 제공
   * 헤더 준수

  **서버**의 경우 다음 필드를 변경할 수 있습니다.  
   * 원본 서버 주소
   * HTTP/HTTPS 포트
   * 시간이 경과된(stale) 컨텐츠 제공
   * 헤더 준수

3. 필요한 경우 **원본** 또는 **기타 옵션** 세부사항을 업데이트한 후 오른쪽 모서리 하단의 **저장** 단추를 클릭하여 CDN 구성 세부사항을 업데이트하십시오. 

   ![저장 단추](images/save-button.png)


## CDN에 대한 IBM Cloud Object Storage 구성

IBM Cloud Object Storage에 저장된 오브젝트를 사용하려면 버킷에서 각 오브젝트에 대한 "public-read" 액세스의 "acl" 특성(즉, 액세스 제어 목록) 값을 설정해야 합니다.  

필요한 클라이언트 또는 도구를 설치하려면 IBM Cloud Object Storage Developer Center(https://developer.ibm.com/cloudobjectstorage/)의 Tools 섹션을 참조하십시오. 여기서는 IBM Cloud Object Storage S3 API와 호환 가능한 공식 AWS 명령행 인터페이스를 설치했다고 가정합니다. 

다음 예제 코드는 명령행 인터페이스를 사용하여 버킷에서 모든 오브젝트에 대한 "public-read" 액세스를 설정하는 방법을 표시합니다. 

```
$ export ENDPOINT="YOUR_ENDPOINT"
$ export BUCKET="YOUR_BUCKET"
$ KEYS=( "$(aws --endpoint-url "$ENDPOINT" s3api list-objects --no-paginate --query 'Contents[].{key: Key}' --output text --bucket "$BUCKET")" )
$ for KEY in "${KEYS[@]}"
  > do
  >   aws --endpoint-url "$ENDPOINT" s3api put-object-acl --bucket "$BUCKET" --key "$KEY" --acl "public-read"
  > done
```
